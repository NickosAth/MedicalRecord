@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}
<!DOCTYPE html>
<html>
<head>
	<title>Προσωπικά στοιχεία ασθενούς</title>
	<style>
		* {
			box-sizing: border-box;
			font-family: Arial, sans-serif;
		}

		body {
			background-image: url('https://plus.unsplash.com/premium_photo-1658506952749-8df0057c5c03?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MTl8fGhvc3BpdGFsfGVufDB8fDB8fA%3D%3D&auto=format&fit=crop&w=500&q=60');
			background-size: cover;
			background-position: center center;
			font-family: 'Open Sans', sans-serif;
		}

		.container::before {
			content: "";
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			z-index: -1;
			background-image: url('https://plus.unsplash.com/premium_photo-1658506952749-8df0057c5c03?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MTl8fGhvc3BpdGFsfGVufDB8fDB8fA%3D%3D&auto=format&fit=crop&w=500&q=60');
			background-size: cover;
			background-position: center center;
			filter: blur(20px);
		}
		
		form {
			max-width: 500px;
			margin: 0 auto;
			padding: 20px;
			background-color: #f2f2f2;
			border-radius: 5px;
			border: 1px solid #ccc;
		}

		h2 {
			text-align: center;
			font-weight: bold;
			color: #333;
			margin-top: 50px;
			background-image: url('https://images.unsplash.com/photo-1572541077501-c74b82f43b19');
			background-size: cover;
			background-position: center center;
			padding: 30px;
			border-radius: 10px;
			box-shadow: 0px 3px 10px rgba(0, 0, 0, 0.2);
			text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
		}

		label {
			display: block;
			font-weight: bold;
			margin-top: 10px;
		}

		input[type="text"], select {
			width: 100%;
			padding: 12px;
			border: 1px solid #ccc;
			border-radius: 4px;
			resize: vertical;
			font-size: 16px;
			background-color: #fff;
		}

		input[type="submit"] {
			background-color: #4CAF50;
			color: #fff;
			padding: 12px 20px;
			border: none;
			border-radius: 4px;
			cursor: pointer;
			font-size: 16px;
		}

			input[type="submit"]:hover {
				background-color: #45a049;
			}

		.container {
			display: flex;
			flex-wrap: wrap;
			justify-content: center;
		}

		.col-25 {
			flex: 25%;
			max-width: 100%;
		}

		.col-50 {
			flex: 50%;
			max-width: 100%;
		}

		.col-75 {
			flex: 75%;
			max-width: 100%;
		}


		.col-25,
		.col-50,
		.col-75 {
			padding: 0 20px;
			margin-bottom: 10px;
		}
		 .error-message {
            color: red;
            font-size: 12px;
            margin-top: 5px;
        }
	</style>
</head>
<body>
	<h2>Προσωπικά στοιχεία ασθενούς</h2>
	<div class="container">
	</div>
<form method="post" action="@Url.Action("Create", "CreateClient")">
		<div class="form-group">
			<label for="first_name">Όνομα:</label>
			<input type="text" class="form-control" id="first_name" name="FirstName" required>
		</div>
		<div class="form-group">
			<label for="last_name">Επώνυμο:</label>
			<input type="text" class="form-control" id="last_name" name="LastName" required>
		</div>
		<div class="form-group">
			<label for="father_name">Πατρώνυμο:</label>
			<input type="text" class="form-control" id="father_name" name="FathersName" required>
		</div>
		<div class="form-group">
			<label for="gender">Φύλο:</label>
			<select class="form-control" id="gender" name="Gender" required>
				<option value="male">Άνδρας</option>
				<option value="female">Γυναίκα</option>
			</select>
		</div>
		<div class="form-group">
			<label for="birth_date">Ημερομηνία Γέννησης:</label>
			<input type="date" class="form-control" id="birth_date" name="Dob" required>
		</div>
		<div class="form-group">
			<label for="amka">Α.Μ.Κ.Α.:</label>
			<input type="text" class="form-control" id="amka" name="Amka" required>
		</div>
		<div class="form-group">
			<label for="work">Επάγγελμα:</label>
			<input type="text" class="form-control" id="work" name="Job" required>
		</div>
		<div class="form-group">
			<label for="insurance_fund">Ταμείο:</label>
			<select class="form-control" id="insurance_fund" name="Insurance" required>
				<option value="iKA">Ι.Κ.Α.</option>
				<option value="oGA">Ο.Γ.Α.</option>
				<option value="tEBE">Τ.Ε.Β.Ε.</option>
				<option value="oaEE">Ο.Α.Ε.Ε.</option>
				<option value="oaEK">Ο.Α.Ε.Κ.</option>
			</select>
		</div>
		<div class="form-group">
			<label for="marital_status">Οικογενειακή Κατάσταση:</label>
			<select class="form-control" id="marital_status" name="FamilyStatus" required>
				<option value="single">Άγαμος/η</option>
				<option value="married">Παντρεμένος/η</option>
				<option value="divorced">Διαζευγμένος/η</option>
				<option value="widowed">Χήρος/α</option>
			</select>
		</div>
		<div class="form-group">
			<label for="phone_number">Τηλέφωνο:</label>
			<input type="text" class="form-control" id="phone_number" name="Phone" pattern="[0-9]{10}" required>
		</div>



		<div class="form-group">
			<label for="email">Email:</label>
			<input type="email" class="form-control" id="email" name="Email" required>
		</div>
		<div class="form-group">
			<label for="town">Περιοχή Κατοικίας:</label>
			<input type="text" class="form-control" id="username" name="AreaOfResidence" required>
		</div>
		<div class="form-group">
			<label for="town">Πόλη Κατοικίας:</label>
			<input type="text" class="form-control" id="username" name="CityOfResidence" required>
		</div>
		<div class="form-group">
			<label for="address">Διεύθυνση Κατοικίας:</label>
			<input type="text" class="form-control" id="address" name="AddressOfResidence" required>
		</div>
		<div class="form-group">
			<label for="TK">ΤΚ Κατοικίας:</label>
			<input type="text" class="form-control" id="TK" name="ZipCodeOfResidence" required>
		</div>
		<div class="form-group text-center mt-4">
			<button type="submit" class="btn btn-danger">Εγγραφή</button>
		</div>
	</form>
</body>
<script>
	$(document).ready(function () {
		$('#amka').on('blur', function () {
			validateField('Amka', $(this).val());
		});

		$('#phone_number').on('blur', function () {
			validateField('Phone', $(this).val());
		});

		$('#email').on('blur', function () {
			validateField('Email', $(this).val());
		});

		function validateField(fieldName, value) {
			$.ajax({
				url: '@Url.Action("Validate", "CreateClient")',
				data: { field: fieldName, value: value },
				success: function (response) {
					var exists = response.exists;
					var fieldId = fieldName.toLowerCase();
					var errorMessageId = fieldId + '-error';

					if (exists) {
						$('#' + errorMessageId).remove();
						$('#' + fieldId).after('<span id="' + errorMessageId + '" class="error-message">Value already exists</span>');
					} else {
						$('#' + errorMessageId).remove();
					}
				}
			});
		}

		// Clear error messages when the user starts typing in the input fields
		$('#amka, #phone_number, #email').on('input', function () {
			var fieldName = $(this).attr('id');
			var fieldId = fieldName.toLowerCase();
			var errorMessageId = fieldId + '-error';
			$('#' + errorMessageId).remove();
		});
	});
</script>

</html>
